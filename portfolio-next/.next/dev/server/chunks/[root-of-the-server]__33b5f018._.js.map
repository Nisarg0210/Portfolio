{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/asoni/OneDrive/Desktop/Nisarg/NisargPatel/portfolio-next/src/app/api/contact/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\r\nimport { Resend } from \"resend\";\r\n\r\nexport const dynamic = \"force-dynamic\";\r\n\r\nexport async function POST(req: Request) {\r\n    try {\r\n        const apiKey = process.env.RESEND_API_KEY;\r\n\r\n        if (!apiKey || apiKey === \"your_resend_api_key_here\") {\r\n            console.error(\"Email Error: RESEND_API_KEY is not configured in .env.local\");\r\n            return NextResponse.json(\r\n                { error: \"Contact service not configured\" },\r\n                { status: 503 }\r\n            );\r\n        }\r\n\r\n        const resend = new Resend(apiKey);\r\n        const { name, email, message } = await req.json();\r\n\r\n        if (!name || !email || !message) {\r\n            return NextResponse.json(\r\n                { error: \"Missing required fields\" },\r\n                { status: 400 }\r\n            );\r\n        }\r\n\r\n        const { error: resendError } = await resend.emails.send({\r\n            from: \"Portfolio <onboarding@resend.dev>\",\r\n            to: \"nisargpatel02.np@gmail.com\",\r\n            subject: `New Portfolio Message from ${name}`,\r\n            replyTo: email,\r\n            html: `\r\n        <div style=\"font-family: sans-serif; line-height: 1.6; color: #1F2A44;\">\r\n          <h2 style=\"color: #2C7A7B; border-bottom: 1px solid #E2E8F0; padding-bottom: 10px;\">New Portfolio Inquiry</h2>\r\n          <p><strong>Sender:</strong> ${name}</p>\r\n          <p><strong>Email:</strong> ${email}</p>\r\n          <div style=\"margin-top: 20px; padding: 15px; background: #F7F9FC; border-radius: 8px;\">\r\n            <strong>Message:</strong><br/>\r\n            ${message}\r\n          </div>\r\n        </div>\r\n      `,\r\n        });\r\n\r\n        if (resendError) {\r\n            console.error(\"Resend Service Error:\", resendError);\r\n            return NextResponse.json(\r\n                { error: \"Failed to send email\" },\r\n                { status: 500 }\r\n            );\r\n        }\r\n\r\n        return NextResponse.json({ success: true });\r\n    } catch (error) {\r\n        console.error(\"Fatal API Error:\", error);\r\n        return NextResponse.json(\r\n            { error: \"Internal server error\" },\r\n            { status: 500 }\r\n        );\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,MAAM,UAAU;AAEhB,eAAe,KAAK,GAAY;IACnC,IAAI;QACA,MAAM,SAAS,QAAQ,GAAG,CAAC,cAAc;QAEzC,IAAI,CAAC,UAAU,WAAW,4BAA4B;YAClD,QAAQ,KAAK,CAAC;YACd,OAAO,gJAAY,CAAC,IAAI,CACpB;gBAAE,OAAO;YAAiC,GAC1C;gBAAE,QAAQ;YAAI;QAEtB;QAEA,MAAM,SAAS,IAAI,oJAAM,CAAC;QAC1B,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAAG,MAAM,IAAI,IAAI;QAE/C,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,SAAS;YAC7B,OAAO,gJAAY,CAAC,IAAI,CACpB;gBAAE,OAAO;YAA0B,GACnC;gBAAE,QAAQ;YAAI;QAEtB;QAEA,MAAM,EAAE,OAAO,WAAW,EAAE,GAAG,MAAM,OAAO,MAAM,CAAC,IAAI,CAAC;YACpD,MAAM;YACN,IAAI;YACJ,SAAS,CAAC,2BAA2B,EAAE,MAAM;YAC7C,SAAS;YACT,MAAM,CAAC;;;sCAGmB,EAAE,KAAK;qCACR,EAAE,MAAM;;;YAGjC,EAAE,QAAQ;;;MAGhB,CAAC;QACC;QAEA,IAAI,aAAa;YACb,QAAQ,KAAK,CAAC,yBAAyB;YACvC,OAAO,gJAAY,CAAC,IAAI,CACpB;gBAAE,OAAO;YAAuB,GAChC;gBAAE,QAAQ;YAAI;QAEtB;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAAK;IAC7C,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,oBAAoB;QAClC,OAAO,gJAAY,CAAC,IAAI,CACpB;YAAE,OAAO;QAAwB,GACjC;YAAE,QAAQ;QAAI;IAEtB;AACJ"}}]
}